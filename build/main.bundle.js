(()=>{"use strict";let e=[],t=document.querySelector(".cards"),n=0,r="Architecture";function o(r){axios.get(`https://www.googleapis.com/books/v1/volumes?q="subject:${r}"&key=AIzaSyDbbM8_tK8pqO0hytMq7qbnl7PwD8vh3S0&printType=books&startIndex=${n}&maxResults=6&langRestrict=en`).then((r=>{n+=6,r.data.items.forEach((n=>{!function(e){let n=e.selfLink;console.log(typeof n);let r=`<div class="card">\n                        <div class="card-image">\n                            <img src="${function(e){return e.volumeInfo.imageLinks?.thumbnail?e.volumeInfo.imageLinks.thumbnail:"/img/placeholder.png"}(e)}" class="pic_wrapp" alt="cover">\n                        </div>\n                        <div class="card-item">\n                            <p class="autors">${function(e){return e.volumeInfo.authors?e.volumeInfo.authors.length>0?e.volumeInfo.authors.join(", "):e.volumeInfo.authors[0]:""}(e)}</p> \n                            <p class="title-card">${e.volumeInfo.title}</p> \n                            <div class="average-raitng">${function(e){let t="";for(let n=0;n<e.volumeInfo.averageRating;n++)t+='<img src="/img/star.svg"/>';return t}(e)}</div> \n                            <p class="raitng">${function(e){return e.volumeInfo?.ratingsCount?e.volumeInfo.ratingsCount+"M review":""}(e)}</p>\n                            <p class="item-card">${function(e){return e.volumeInfo.description?e.volumeInfo.description.length<100?e.volumeInfo.description:e.volumeInfo.description.slice(0,100)+" . . . ":""}(e)}</p>\n                            <p class="price-card">${function(e){return"FOR_SALE"==e.saleInfo.saleability?e.saleInfo.listPrice.amount+" RUB":""}(e)}</p> \n                            ${function(e,t){let n=JSON.parse(localStorage.getItem("books"));return console.log(n),null!=n&&n.find((t=>t.selfLink==e.selfLink))?`<button class="in-cart"  id="${t}" onclick="cart(event)">in the cart</button>`:`<button class="buy-button"  id="${t}" onclick="cart(event)">by now</button>`}(e,n)}\n                        </div>\n                    </div>`;t.innerHTML=t.innerHTML+r}(n),e.push(n)})),console.log(e)})).catch((e=>console.error(e)))}const i=document.getElementById("category-list").children;function l(){for(let e=0,t=i.length;e<t;e++)i[e].addEventListener("click",(t=>s(t,i[e].innerHTML)))}function s(e,n){r=n,t.innerHTML="";for(let e=0,t=i.length;e<t;e++)i[e].style.fontWeight="normal";return e.target.style.fontWeight="bold",o(n)}l(),o("Architecture"),i[0].style.fontWeight="bold";const c=document.querySelectorAll(".slider__img"),a=document.querySelector(".slider__line"),u=document.querySelectorAll(".slider__dot"),d=document.querySelector(".slider__btn-next"),f=document.querySelector(".slider__btn-prev");let g,m=0;function v(){g=document.querySelector(".slider").offsetWidth,a.style.width=g*c.length+"px",c.forEach((e=>e.style.width=g+"px")),p()}function h(){m++,m>=c.length&&(m=0),p(),b(m)}function L(){m--,m<0&&(m=c.length-1),p(),b(m)}function p(){a.style.transform=`translateX(${-m*g}px)`}function b(e){u.forEach((e=>e.classList.remove("active-dot"))),u[e].classList.add("active-dot")}window.addEventListener("resize",v),d.addEventListener("click",h),f.addEventListener("click",L),setInterval((()=>{h()}),5e3),v(),u.forEach(((e,t)=>{e.addEventListener("click",(()=>{m=t,p(),b(m)}))})),window.getData=o,window.cart=function(t){let n=document.querySelector(".count-basket"),r=localStorage.getItem("books");if(r){let o=JSON.parse(r);if(o.find((e=>e.selfLink==t.currentTarget.id)))return o=o.filter((e=>e.selfLink!=t.currentTarget.id)),localStorage.setItem("books",JSON.stringify(o)),t.currentTarget.classList.remove("in-cart"),t.currentTarget.classList.add("buy-button"),t.currentTarget.innerHTML="BUY NOW",void(n.innerHTML=Number(n.innerHTML)-1);o.push(e.find((e=>e.selfLink==t.currentTarget.id))),n.innerHTML=Number(n.innerHTML)+1,localStorage.setItem("books",JSON.stringify(o))}else{let r=[];r.push(e.find((e=>e.selfLink==t.currentTarget.id))),r=JSON.stringify(r),n.innerHTML=Number(n.innerHTML)+1,localStorage.setItem("books",r)}t.currentTarget.classList.remove("buy-button"),t.currentTarget.classList.add("in-cart"),t.currentTarget.innerHTML="IN THE CART"},window.currentCategory=r,l(),o("Architecture"),i[0].style.fontWeight="bold",window.addEventListener("resize",v),d.addEventListener("click",h),f.addEventListener("click",L),setInterval((()=>{h()}),5e3),v(),listenDots()})();
//# sourceMappingURL=main.bundle.js.map